<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="pro">
<!--  
PRODUCT	VARCHAR2(100)
PROIMG	VARCHAR2(50)
PROWRITER	NUMBER(5)
PRICE NUMBER(8)
PROCOUNT NUMBER(3)
PRONUM	NUMBER(5)
ZZIM	VARCHAR2(1)
-->
	<!-- 상품 등록 -->
	<insert id="proInsert" parameterType="map">
		insert into product values
		(#{product},#{proimg},#{prowriter},#{price},0
		,product_seq.nextVal,'n',sysdate,#{enddate},#{procont })
	</insert>
	
	<!-- 상품 리스트 -->
	<select id="proList" resultType="provo">
		select p.product, p.proimg, m.memname, to_char(p.price,'999,999,999') price, to_char(p.enddate,'yyyy-MM-dd') enddate,p.pronum
		from product p, member m where p.prowriter = m.memnum order by pronum desc
	</select>	
	
	<!-- 상품 디테일 -->
	<select id="proDetail" parameterType="int" resultType="provo">
		select p.product, p.proimg, m.memname, to_char(p.price,'999,999,999') price, to_char(p.enddate,'yyyy-MM-dd') enddate
		from product p, member m where p.prowriter = m.memnum and p.pronum=#{pronum}
	</select>
	
</mapper>










