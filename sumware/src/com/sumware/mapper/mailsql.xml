<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="mail">
<!--   	<insert id="addMail" parameterType="map"> -->
<!--   		insert into mail values(mail_seq.nextVal,?,?,?,?,?,sysdate,1,1) -->
<!--   	</insert> -->
	<select id="getFromMailList" parameterType="map" resultType="mavo">
		select * from (select rownum r_num, a.* from 
		(select ma.mailnum, me.memname, ma.mailtitle, ma.maildate 
		from member me, mail ma where me.memnum=ma.mailmem and ma.mailreceiver=#{userid} 
		and ma.mailrdelete=1 and not ma.mailmem=#{usernum} order by ma.maildate desc) a)
		where r_num between #{begin} and #{end}
	</select>
	<select id="getToMailList" parameterType="map" resultType="mavo">
		select * from (select rownum r_num, a.* from 
		(select ma.mailnum, me.memname, ma.mailtitle, ma.maildate 
		from member me, mail ma where me.meminmail=ma.mailreceiver and ma.mailmem=#{usernum} 
		and ma.mailsdelete=1 and not ma.mailreceiver=#{userid} order by ma.maildate desc) a)
		where r_num between #{begin} and #{end}
	</select>
  </mapper>